# 💰 家庭个税优选 (Family Tax Optimizer)

> **基于 2024 年最新个税政策的家庭税务筹划工具** > 纯前端运行 | 智能分配策略 | 隐私安全 | 实时对比

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Platform](https://img.shields.io/badge/platform-Web-green.svg)
![Status](https://img.shields.io/badge/status-Stable-brightgreen.svg)

## 📖 简介 (Introduction)

**家庭个税优选** 是一个运行在浏览器中的单页面应用（SPA），旨在帮助中国纳税家庭寻找**家庭总税负最低**的专项附加扣除分配方案。

在个人所得税申报中，许多扣除项（如子女教育、住房贷款利息）可以在夫妻之间进行分配（例如：一方扣除100% 或 双方各扣50%）。由于超额累进税率的存在，手动计算哪种组合最划算非常复杂。

本项目通过内置的智能算法，自动遍历所有合法的分配组合，并考虑了“住房租金”的特殊互斥逻辑，为您提供最优的节税建议。

## ✨ 核心功能 (Key Features)

* **👥 家庭视角优化**：不再单看个人，而是计算夫妻（角色A + 角色B）的总纳税额，寻找全局最优解。
* **🧠 智能策略引擎**：
    * 自动遍历 **子女教育**、**3岁以下婴幼儿照护**、**住房贷款利息** 的所有分配组合（A全扣/平分/B全扣）。
    * 实时计算并排序，直接展示能省多少钱。
* **⚖️ 严谨的法规逻辑**：
    * **互斥校验**：严格遵循住房贷款利息与住房租金二选一原则。
    * **租金特殊规则**：内置同城（不可平分）与异地（双倍扣除）的逻辑判断，防止申报违规。
* **🧮 五险一金计算器**：支持输入基数和比例自动计算年扣除额，也支持手动输入。
* **📊 深度对比明细**：
    * 提供包含所有方案的排行榜。
    * 支持点击展开每一行的详细计算过程（应纳税所得额、适用税率、速算扣除数），让计算过程透明化。
* **🛡️ 隐私优先**：
    * **纯前端实现**（HTML + JS），无后端服务器。
    * 所有数据仅在您的本地浏览器中运算，**没有任何数据会被上传**，绝对安全。

## 🚀 快速开始 (Quick Start)

本项目不需要安装任何依赖，不需要 Node.js 环境，**开箱即用**。

### 方式一：直接运行
1. 下载本项目中的 `index.html` 文件（或者 `family_tax_optimizer.html`）。
2. 使用 Chrome、Edge 或 Safari 等现代浏览器直接打开该文件。
3. 开始计算！

### 方式二：部署到 GitHub Pages
如果您想在线访问，可以将本项目 Fork 后开启 GitHub Pages 服务，即可通过网页访问。

## ⚙️ 算法逻辑 (Algorithm)

本工具基于《中华人民共和国个人所得税法》及《个人所得税专项附加扣除暂行办法》构建：

1.  **税率计算**：采用 2024 年综合所得年度税率表（3% - 45% 超额累进）。
2.  **决策树**：
    * 系统会根据输入的子女数量和房贷情况，生成决策树。
    * 针对 **住房租金**，根据“同城”或“异地”的工作情况，动态调整可用选项（同城移除平分选项）。
3.  **暴力穷举**：
    * 由于变量组合有限（通常 < 50种组合），前端直接采用穷举法计算所有场景。
    * 对结果按 `Total_Tax` 升序排列，取最小值。

## 📸 截图 (Screenshots)

<img width="2560" height="1279" alt="image" src="https://github.com/user-attachments/assets/1d65832c-6f4b-458e-bef6-06b7b002d3a5" />
<img width="2560" height="1279" alt="image" src="https://github.com/user-attachments/assets/c1c43852-43e6-4683-8ea1-681e33563a8c" />


## 📝 法律声明 (Disclaimer)

* **仅供参考**：本工具的计算结果仅供参考，不构成法律或税务建议。
* **政策时效**：计算规则基于 2024 年及之前的税法政策（如婴幼儿照护 2000元/月标准）。如政策调整，请以税务局官方 APP 为准。
* **具体执行**：实际申报时，请确保符合税务局对于“首套房贷资格”、“租房合同”等具体材料的要求。

## 📄 许可证 (License)

[MIT License](LICENSE) © 2025 Family Tax Optimizer
